<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/templateBase :: common_head_title_links(~{::title},~{::link}) }">
    <title>Oroscopo del Giorno</title><link rel="stylesheet" href="style.css">
</head>


<body>
<header th:replace="~{fragments/templateBase :: header}"></header>

<div class="container mt-5">



    <div class="p-5 mb-4 bg-light rounded-3">
        <h3 class="mb-4">Iscriviti per Ricevere l'Oroscopo del Giorno via email</h3>
        <p>Inserisci il tuo indirizzo email per ricevere l'oroscopo del giorno direttamente nella tua casella di posta.</p>

        <form id="subscribe-form" action="/subscribe" method="post" class="row g-2 align-items-center" onsubmit="showLoadingOverlay()">
            <div class="col-12 col-sm-8">
                <input type="email" id="email" name="email" class="form-control" placeholder="Indirizzo Email" aria-label="Indirizzo Email" required>
            </div>
            <div class="col-12 col-sm-4">
                <button type="submit" id="subscribe-button" class="btn btn-primary w-100">Registra Email</button>
            </div>
        </form>

        <!-- Mostra il messaggio di infoMessage -->
        <div th:if="${infoMessage != null and infoMessage != ''}" class="alert alert-success mt-3" role="alert">
            <p th:text="${infoMessage}"></p>
        </div>
    </div>

    <h1 class="mb-4">Oroscopo del Giorno</h1>

    <div class="alert alert-info" role="alert">
        La nostra IA viene istruita con dati di carattere astronomico e regole astrologiche per generare l'oroscopo del giorno.<br>
        I corpi celesti sono orientati verso l'Italia alle ore 12 di oggi.<br>
    </div>


    <!-- Mostra la descrizione dell'oroscopo del giorno -->
    <p th:utext="${oroscopoDelGiornoDescrizioneOggi}"></p>

    <!-- Iterazione attraverso i video degli oroscopi -->
    <div th:each="video : ${videos}" class="mb-5">
        <!-- Titolo del segno zodiacale -->
        <h2 class="mb-3"><strong th:text="${video.nomeSegnoZodiacale}"></strong></h2>

        <!-- Descrizione dell'oroscopo -->
        <p th:utext="${video.testoOroscopoRifinito}"></p>

        <!-- Video -->
        <div class="video-container mb-3 embed-responsive embed-responsive-16by9">
            <video class="embed-responsive-item w-100" controls>
                <source th:src="@{'/oroscopo-giornaliero/' + ${video.nomeFileVideo}}" type="video/mp4">
                Il tuo browser non supporta il tag video.
            </video>
        </div>
    </div>


</div>

<!-- Finestra di attesa -->
<div th:replace="~{fragments/templateBase :: loadingOverlay}"></div>

<footer th:replace="~{fragments/templateBase :: footer}"></footer>
<div th:replace="~{fragments/templateBase :: link-js-util-bootstrap-jquery}"></div>
</body>
</html>
