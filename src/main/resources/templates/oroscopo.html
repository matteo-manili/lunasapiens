<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/templateBase :: common_head_title_links(~{::title},~{::links}) }">
    <title>Oroscopo del Giorno</title>
    <th:block th:fragment="links">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="/css/style.css">
    </th:block>
</head>

<body>
<header th:replace="~{fragments/templateBase :: header}"></header>

<div class="container mt-5">
    <div class="p-5 mb-4 bg-light rounded-3 text-center shadow-sm">
        <h3 class="mb-4">Iscriviti per Ricevere l'Oroscopo del Giorno via email</h3>
        <p>Inserisci il tuo indirizzo email per ricevere l'oroscopo del giorno direttamente nella tua casella di posta.</p>

        <form id="subscribe-form" action="/subscribe" method="post" class="row g-2 justify-content-center" onsubmit="showLoadingOverlay()">
            <div class="col-12 col-md-8 col-lg-6 mb-3">
                <input type="email" id="email" name="email" class="form-control" placeholder="Indirizzo Email" aria-label="Indirizzo Email" required>
            </div>
            <div class="col-12 col-md-4 col-lg-3">
                <button type="submit" id="subscribe-button" class="btn btn-primary w-100">Registra Email</button>
            </div>
        </form>

        <div th:if="${infoMessage != null and infoMessage != ''}" class="alert alert-success mt-3" role="alert">
            <p th:text="${infoMessage}"></p>
        </div>
    </div>

    <h1 class="mb-4 ">Oroscopo del giorno <span th:utext="${oroscDelGiornDescDTO.giornoOraPosizioneDTO.getGiornoMeseAnnoFormattato}"></span></h1>

    <div class="alert alert-info " role="alert">
        La nostra IA viene istruita con dati di carattere astronomico e regole astrologiche per generare l'oroscopo del giorno.<br>
        I corpi celesti sono orientati verso l'Italia alle ore 12 di oggi.<br>
        Utilizziamo il sistema di effemeridi <a href="https://www.astro.com/swisseph/swephinfo_e.htm">Swiss Ephemeris</a> (tabelle che mostrano le posizioni
        ad alta precisione dei corpi celesti) per determinare i transiti
    </div>

    <div class="mb-4">
        <p th:utext="${oroscDelGiornDescDTO.descrizioneOroscopoDelGiorno}" class="lead"></p>
    </div>

    <div th:each="oroscGiornoIte : ${listOroscopoGiornoDTO}" class="mb-5">
        <h2 class="mb-3 text-primary"><strong th:text="${oroscGiornoIte.nomeSegnoZodiacale}"></strong></h2>
        <p th:utext="${oroscGiornoIte.testoOroscopoRifinito}"></p>
        <div class="video-container mb-3 ratio ratio-16x9">
            <video class="w-100" controls>
                <source th:src="@{'/oroscopo-giornaliero/' + ${oroscGiornoIte.nomeFileVideo}}" type="video/mp4">
                Il tuo browser non supporta il tag video.
            </video>
        </div>
    </div>
</div>

<div th:replace="~{fragments/templateBase :: loadingOverlay}"></div>

<footer th:replace="~{fragments/templateBase :: footer}"></footer>
<div th:replace="~{fragments/templateBase :: link-js-util-bootstrap-jquery}"></div>
</body>
</html>
